function getParameter(a){for(var b=window.location.search.substring(1),c=b.split("&"),d=0;d<c.length;d++){var e=c[d].split("=");if(e[0]==a)return e[1]}}function generateLink(a){var b=window.location.href,c=encodeURI(a),d=b+"?p="+c+"&ref=link",e=$("#refLink");e.attr("href",d),e.removeClass("hidden")}$(document).ready(function(){var a=new Object,b=getParameter("p");if(b){var c=decodeURI(b);a=JSON.parse(c),$("textarea#inputJson").val(c),window.history.pushState("Performance Timing","Performance",window.location.origin+window.location.pathname),paint(a),generateLink(c)}else $.getJSON("data.json",function(b){$.each(b,function(b,c){a[b]=c}),paint(a)});$("#btnPaint").click(function(){$("#helpBlock").text(),$("#helpBlock").addClass("hidden");var a=$("textarea#inputJson").val();try{var b=$.parseJSON(a);console.log(b),paint(b),generateLink(a)}catch(c){$("#helpBlock").text("Parsing JSON failed."),$("#helpBlock").addClass("hidden"),$("#helpBlock").removeClass("hidden")}})});